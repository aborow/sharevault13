<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="unsubscribe_page" name="Unsubscribe page">
        <div class="container o_unsubscribe_form">
            <div class="row">
                <div>
                    <center>
                        <h1 class="o_page_header">EMAIL PREFERENCES</h1>
                        <div id="subscription_info" style="color: #005326; background-color: #ccecdb; border-color: #b8e4cc; padding: 0.75rem 1.25rem; margin-left: 100px;
    margin-right: 100px;" role="status">
                            <b>
                                <p>You have been successfully updated email preferences in contact.
                                </p>
                            </b>
                        </div>
                    </center>
                </div>
            </div>
        </div>
    </template>

    <template id="unsubscribe_mass_mailing">
        <div class="container o_unsubscribe_form">
            <div class="row">
                <input type="hidden" name="email" t-att-value="email"/>
                <div id="div_blacklist" class="col-lg-6 offset-lg-3"
                     style="padding-top: 20px; text-align: center; margin-left:100px;">
                    <t t-if="is_partner">
                        <form method="post" action="/updated/contact">
                            <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                            <input type="hidden" name="email" t-att-value="email"/>
                            <h3>UPDATE EMAIL PREFERENCES IN CONTACT</h3>
                            <div class="container"
                                 style="text-align: left; box-sizing: border-box; margin-left:400px; margin-right:400px;">
                                <left>
                                    <div style="box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2); padding: 16px; background-color: #f1f1f1 !important;">
                                        <!--
                                        <input type="checkbox" id="confirmation_email" name="confirmation_email"
                                               t-att-checked="confirmation_email"
                                               onclick="uncheck_opt_out(this.id)"/>
                                        Confirmation Email
                                        <br/>
                                        -->
                                        <input type="checkbox" id="customer_updates" name="customer_updates"
                                               t-att-checked="customer_updates"
                                               onclick="uncheck_opt_out(this.id)"/>
                                        Customer Updates
                                        <br/>
                                        <input type="checkbox" id="hubspot_blog" name="hubspot_blog"
                                               t-att-checked="hubspot_blog"
                                               onclick="uncheck_opt_out(this.id)"/>
                                        Default HubSpot Blog Subscription
                                        <br/>
                                        <input type="checkbox" id="life_science" name="life_science"
                                               t-att-checked="life_science"
                                               onclick="uncheck_opt_out(this.id)"/>
                                        Life Sciences White Papers, Webinars and Useful News
                                        <br/>
                                        <input type="checkbox" id="mergers_webinars" name="mergers_webinars"
                                               t-att-checked="mergers_webinars"
                                               onclick="uncheck_opt_out(this.id)"/>
                                        Mergers &amp; Acquisitions White Papers, Webinars, and Useful News
                                        <br/>
                                        <input type="checkbox" id="marketing_information" name="marketing_information"
                                               t-att-checked="marketing_information"
                                               onclick="uncheck_opt_out(this.id)"/>
                                        Marketing Information
                                        <br/>
                                        <input type="checkbox" id="sv_blog_subscription" name="sv_blog_subscription"
                                               t-att-checked="sv_blog_subscription"
                                               onclick="uncheck_opt_out(this.id)"/>
                                        ShareVault Blog Subscription
                                        <br/>
                                        <input type="checkbox" id="sv_comp_info" name="sv_comp_info"
                                               t-att-checked="sv_comp_info"
                                               onclick="uncheck_opt_out(this.id)"/>
                                        ShareVault Company Information
                                        <br/>
                                        <input type="checkbox" id="sv_product_info" name="sv_product_info"
                                               t-att-checked="sv_product_info"
                                               onclick="uncheck_opt_out(this.id)"/>
                                        ShareVault Product Information
                                        <br/>
                                        <input type="checkbox" id="sv_subscription" name="sv_subscription"
                                               t-att-checked="sv_subscription"
                                               onclick="uncheck_opt_out(this.id)"/>
                                        ShareVault Subscription
                                        <br/>
                                        <input type="checkbox" id="oto" name="one_to_one" t-att-checked="one_to_one"
                                                onclick="uncheck_opt_out(this.id)"/>
                                        One to One
                                        <br/>
                                        <input type="checkbox" id="scm" name="sc_message" t-att-checked="sc_message"
                                                onclick="uncheck_opt_out(this.id)"/>
                                        Subscriptions Confirmation Message
                                        <br/>


                                        <input type="checkbox" id="opt_out" name="opt_out" t-att-checked="opt_out"
                                                onclick="uncheck_all()"/>
                                        NONE OF THE ABOVE
                                        <script>
                                            function uncheck_opt_out(clicked_id){
                                                if (document.getElementById(clicked_id).checked == true){
                                                    document.getElementById("opt_out").checked = false;
                                                }
                                            }

                                            function uncheck_all(){
                                                if (document.getElementById("opt_out").checked == true){
                                                    fields = ['customer_updates','hubspot_blog','life_science',
                                                                'mergers_webinars','marketing_information','sv_blog_subscription',
                                                                'sv_comp_info','sv_product_info','sv_subscription','oto','scm'];
                                                    for (var i = 0; i &lt; fields.length; i++){
                                                        document.getElementById(fields[i]).checked = false;
                                                    }
                                                }
                                            }
                                        </script>
                                        <br/>


                                        <div style="text-align:center;">
                                            <button type="submit" class="btn btn-primary"
                                                    style="margin-top:10px; background: #2e9fa5; color: white;">UPDATE
                                                EMAIL PREFERENCES
                                            </button>
                                        </div>
                                    </div>
                                </left>
                            </div>
                        </form>
                    </t>

                </div>
            </div>
        </div>
    </template>
</odoo>
